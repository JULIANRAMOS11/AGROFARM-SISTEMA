# ğŸ—„ï¸ CONECTAR SUPABASE DESDE VS CODE

## ğŸ“¦ **OPCIÃ“N 1: Database Client (Recomendado - YA INSTALADO)**

### âœ… ExtensiÃ³n instalada: Database Client

**Pasos para conectar:**

1. **Haz clic en el Ã­cono de base de datos** en la barra lateral izquierda (parece un cilindro)

2. **Haz clic en "+" para nueva conexiÃ³n**

3. **Selecciona: PostgreSQL**

4. **Llena estos datos:**
   ```
   Host: aws-1-us-east-1.pooler.supabase.com
   Port: 6543
   Database: postgres
   Username: postgres.krjddrckutmwvjceakpf
   Password: AgroFarm2026_DB_Julian
   ```

5. **Haz clic en "Connect"**

6. **Â¡Listo!** Ahora puedes:
   - Ver todas tus tablas
   - Ejecutar queries SQL
   - Editar datos directamente
   - Crear/modificar columnas

---

## ğŸ“ **OPCIÃ“N 2: Terminal con psql**

### Instalar psql (si no lo tienes):

**Windows:**
```powershell
# Descargar PostgreSQL desde: https://www.postgresql.org/download/windows/
# O usar Scoop:
scoop install postgresql
```

### Conectar desde terminal integrada:

```powershell
# En VS Code, abre terminal (Ctrl + `)
psql "postgresql://postgres.krjddrckutmwvjceakpf:AgroFarm2026_DB_Julian@aws-1-us-east-1.pooler.supabase.com:6543/postgres"
```

**Comandos Ãºtiles:**
```sql
-- Ver todas las tablas
\dt

-- Ver estructura de tabla pigs
\d pigs

-- Ejecutar tu script
\i backend-api/database/06_agregar_campos_pigs.sql

-- Salir
\q
```

---

## ğŸ¨ **OPCIÃ“N 3: Archivos .sql con ejecuciÃ³n directa**

Crea archivos SQL y ejecÃºtalos desde VS Code:

**1. Abre cualquier archivo .sql**

**2. Con la extensiÃ³n Database Client:**
   - Ctrl + Shift + P
   - Busca: "Database: Run Query"
   - O haz clic derecho â†’ "Run Query"

**3. VerÃ¡s los resultados directamente en VS Code**

---

## ğŸ“‚ **Archivos SQL Ãºtiles creados:**

### `backend-api/database/EJECUTAR_ACTUALIZACION.sql`
Actualiza la tabla pigs con columnas nuevas

### `backend-api/database/VERIFICAR_ESTRUCTURA.sql`
Verifica que las columnas existan

### `backend-api/database/CONSULTAS_UTILES.sql`
Consultas comunes para desarrollo

---

## ğŸ”§ **ATAJOS ÃšTILES:**

| AcciÃ³n | Atajo |
|--------|-------|
| Ejecutar query seleccionado | Ctrl + E |
| Ejecutar todo el archivo | Ctrl + Shift + E |
| Formatear SQL | Ctrl + Shift + F |
| Ver resultados | Panel inferior |

---

## ğŸ’¡ **TIPS:**

1. **Guarda tus queries** en archivos .sql dentro de `backend-api/database/`
2. **Usa transacciones** para cambios importantes:
   ```sql
   BEGIN;
   -- tus cambios aquÃ­
   ROLLBACK; -- o COMMIT;
   ```
3. **Haz backup antes de cambios grandes:**
   ```sql
   CREATE TABLE pigs_backup AS SELECT * FROM pigs;
   ```

---

## ğŸ†˜ **SoluciÃ³n de problemas:**

### Error: "password authentication failed"
â†’ Verifica que la contraseÃ±a en `.env` sea correcta

### Error: "connection timeout"
â†’ Verifica que tu IP estÃ© permitida en Supabase (Settings â†’ Database â†’ Connection Pooling)

### No aparecen las tablas
â†’ Haz clic derecho en la conexiÃ³n â†’ Refresh

---

**Â¡Ahora puedes editar tu base de datos SIN salir de VS Code!** ğŸš€
